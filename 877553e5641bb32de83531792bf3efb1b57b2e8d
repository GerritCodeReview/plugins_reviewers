{
  "comments": [
    {
      "key": {
        "uuid": "b0847825_4a19b3f1",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 18,
      "author": {
        "id": 1025087
      },
      "writtenOn": "2016-11-18T09:07:08Z",
      "side": 1,
      "message": "Did you tried that with Bazel at HEAD?\n\nI believe this commit will break that: https://github.com/bazelbuild/bazel/commit/b4f461ecc183d9adc9482f4cad848687ed0227ee",
      "range": {
        "startLine": 18,
        "startChar": 6,
        "endLine": 18,
        "endChar": 35
      },
      "revId": "877553e5641bb32de83531792bf3efb1b57b2e8d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b0847825_ea00a768",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 18,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2016-11-18T13:18:14Z",
      "side": 1,
      "message": "My build is quite some days ago. But why this shouldn\u0027t be possible?\n\nGerit project:\n\n  WORKSPACE(gerrit)\n      tools/bzl/plugin.bzl # builds against gerrit tree\n      plugins/\n               replication\n               hooks\n               [more core plugins\n\nBalzest project\n\n  WORKSPACE(bazlets)\n      gerrit_api.bzl\n      gerrit_plugin.bzl\n\n\nPlugin project\n\n  WORKSPACE(reviewers)\n      tools/bzl/plugin.bzl  # should be ignored in standalone build mode, but used in Gerrit tree mode\n      srcs/[...]\n\nNow we would like to support two builds modes (as it was the case with Buck):\n\n* in Gerrit tree (against latest and greatest plugin API)\n* Standalone, Bazlets driven build, Gerrit plugin API is consumed from the Central\n\nSo basically, we have two different places, where gerrit_plugin() is denied: in Gerrit tree or in Bazlers, Depending on the plugin build mode, the former or the latter should be used.",
      "parentUuid": "b0847825_4a19b3f1",
      "range": {
        "startLine": 18,
        "startChar": 6,
        "endLine": 18,
        "endChar": 35
      },
      "revId": "877553e5641bb32de83531792bf3efb1b57b2e8d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d091ec62_8b22cd14",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 18,
      "author": {
        "id": 1025087
      },
      "writtenOn": "2016-11-18T13:51:10Z",
      "side": 1,
      "message": "Oh sorry disregard, I though they went with the other way. It\u0027s good.",
      "parentUuid": "b0847825_ea00a768",
      "revId": "877553e5641bb32de83531792bf3efb1b57b2e8d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d091ec62_2be559c1",
        "filename": "WORKSPACE",
        "patchSetId": 4
      },
      "lineNbr": 3,
      "author": {
        "id": 1025087
      },
      "writtenOn": "2016-11-18T09:07:08Z",
      "side": 1,
      "message": "This should be com_github_davido_bazlets",
      "range": {
        "startLine": 3,
        "startChar": 10,
        "endLine": 3,
        "endChar": 20
      },
      "revId": "877553e5641bb32de83531792bf3efb1b57b2e8d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b0847825_2a147fba",
        "filename": "WORKSPACE",
        "patchSetId": 4
      },
      "lineNbr": 13,
      "author": {
        "id": 1025087
      },
      "writtenOn": "2016-11-18T09:07:08Z",
      "side": 1,
      "message": "Nit: You could do this with a skylark repository instead. So you select the local one or the remote one depending on the user configuration",
      "range": {
        "startLine": 2,
        "startChar": 0,
        "endLine": 13,
        "endChar": 1
      },
      "revId": "877553e5641bb32de83531792bf3efb1b57b2e8d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b0847825_0a0fbba8",
        "filename": "tools/bzl/plugin.bzl",
        "patchSetId": 4
      },
      "lineNbr": 2,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2016-11-18T07:45:30Z",
      "side": 1,
      "message": "@Damien, Han-Wen, what I\u0027m doing here is routing to gerrit_plugin() defined in Gerrit repository (in tools/bzl/plugin.bzl), when this plugin is built in Gerrit tree. Disadvantage of this appoach is that every plugin must define this file to support both standalone and in tree build modes. I wonder if there is a simpler approach to achieve this?",
      "revId": "877553e5641bb32de83531792bf3efb1b57b2e8d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d091ec62_4bdaa508",
        "filename": "tools/bzl/plugin.bzl",
        "patchSetId": 4
      },
      "lineNbr": 2,
      "author": {
        "id": 1025087
      },
      "writtenOn": "2016-11-18T09:07:08Z",
      "side": 1,
      "message": "You can replace this 2 lines by just:\nload(\"@io_bazlets//:gerrit_plugin.bzl\", \"gerrit_plugin\")\n\nThe otherr approach would be to simply define the remote repository io_bazlets from the parent repository as being a local_repository pointing to some sub-directory.",
      "parentUuid": "b0847825_0a0fbba8",
      "revId": "877553e5641bb32de83531792bf3efb1b57b2e8d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}