{
  "comments": [
    {
      "key": {
        "uuid": "931373f5_5925b766",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2018-02-07T05:55:41Z",
      "side": 1,
      "message": "Add a rest endpoint or SSH command to evict caches?",
      "revId": "b68acff8b4055ff06cc99940ed5052f5975def9c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ab39d887_181b6e4d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2018-02-07T06:42:10Z",
      "side": 1,
      "message": "I don\u0027t think that will help much. If the config is edited directly, the admin needs to be aware that it was done and manually call the endpoint.\n\nI was thinking about some way of getting notified when the file is changed, or intercepting the update.",
      "parentUuid": "931373f5_5925b766",
      "revId": "b68acff8b4055ff06cc99940ed5052f5975def9c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f995362c_9112fc37",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2018-02-07T07:07:01Z",
      "side": 1,
      "message": "There are two configuration places: glocal gerrit.config and project specific config files. I agree, that in case of global change admin could just reload the plugins. In case of pushing changes directly to project config file we could add ref-updated listener and evict the cache of that project. The complication: inheritance. Changes in the parent change would need to evict caches for all descendant projects, or alternatively, we could wipe out the whole configuration caches.",
      "parentUuid": "ab39d887_181b6e4d",
      "revId": "b68acff8b4055ff06cc99940ed5052f5975def9c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6e68c4c5_8906c56b",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2018-02-07T10:30:20Z",
      "side": 1,
      "message": "The caching implemented here is only for the reviewers, not for any of the other config.  So we don\u0027t need to care about the global config here.\n\nAnother complication is that the ref-updated event will also come (IIUC) when the config is updated by the REST API.  We can probably solve that by not doing the eviction in the REST handler (as it is so far in this implementation) but deferring it to the ref updated handler.",
      "parentUuid": "f995362c_9112fc37",
      "revId": "b68acff8b4055ff06cc99940ed5052f5975def9c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}